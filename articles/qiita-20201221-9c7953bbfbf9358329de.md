---
title: "[Mattermost Integrations] Plugin (Webapp 2)"
date: 2020-12-21T00:00:00+09:00
emoji: "ğŸ“†"
type: "tech"
topics: ["Mattermost"]
published: true
aliases: "/post/mattermost/advent-calendar-2020/day21-plugin-webapp2"
---

Mattermost è¨˜äº‹ã¾ã¨ã‚: https://blog.kaakaa.dev/tags/mattermost/

## æœ¬è¨˜äº‹ã«ã¤ã„ã¦

[Mattermost ã®çµ±åˆæ©Ÿèƒ½ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼](https://qiita.com/advent-calendar/2020/mattermost-integrations)ã®ç¬¬ 21 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚

æ˜¨æ—¥ã«å¼•ãç¶šãã€Mattermost ä¸Šã®æ§˜ã€…ãªæ“ä½œã«å¯¾å¿œã—ãŸå‡¦ç†ã‚’è¿½åŠ ã§ãã‚‹ Mattermost Plugin ã®**Webapp**ã‚µã‚¤ãƒ‰ã®æ©Ÿèƒ½ã‚’ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚ã€‚

Mattermost Plugin ã«ã¤ã„ã¦ã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ä¸‹è¨˜ã«ãªã‚Šã¾ã™ã€‚
https://developers.mattermost.com/extend/plugins/overview/

ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ãƒªãƒã‚¸ãƒˆãƒªã«ã‚³ãƒŸãƒƒãƒˆã—ã¦ã„ã¾ã™ã€‚
https://github.com/kaakaa/mattermost-plugin-api-sample

## Webapp Plugin API

### [registerWebSocketEventHandler](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerWebSocketEventHandler)

`registerWebSocketEventHandler`ã¯ã€Mattermost Server ã‹ã‚‰é€ä¿¡ã•ã‚Œã‚‹ WebSocket ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã™ã‚‹ Handler ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

`registerWebSocketEventHandler`ã¯ 2 ã¤ã®å¼•æ•°ã‚’å–ã‚Šã¾ã™ã€‚

- `event`: å‡¦ç†ã™ã‚‹ WebSocket ã‚¤ãƒ™ãƒ³ãƒˆã®ç¨®åˆ¥
- `handler`: WebSocket ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’å¼•æ•°ã«å–ã‚‹é–¢æ•°ã€‚å¼•æ•°ã®ãƒ‡ãƒ¼ã‚¿ã¯ã‚¤ãƒ™ãƒ³ãƒˆã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã€‚

Server ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®[PublishWebSocketEvent](https://developers.mattermost.com/extend/plugins/server/reference/#API.PublishWebSocketEvent)ã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨ã™ã‚‹ã¨å¼·åŠ›ã§ã™ãŒã€ãã®è¾ºã‚Šã®ä¾‹ã«ã¤ã„ã¦ã¯ 22 æ—¥ç›®ä»¥é™ã®è¨˜äº‹ã§ç´¹ä»‹ã—ã¾ã™ã€‚

ã“ã“ã§ã¯ã€Mattermost ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® WebSocket ã‚¤ãƒ™ãƒ³ãƒˆã§ã‚ã‚‹æŠ•ç¨¿ãŒä½œæˆã•ã‚ŒãŸéš›ã«é€ä¿¡ã•ã‚Œã‚‹`posted`ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ä¿¡ã—ãŸéš›ã«ã€æŠ•ç¨¿å†…å®¹ã«`open modal`ã¨ã„ã†æ–‡è¨€ãŒå…¥ã£ã¦ã„ãŸå ´åˆã«ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ãä¾‹ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚

![](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day21/websocket-event-handler.gif)

```js:index.js
...
import {openRootModal, createPluginPost} from './actions';
...
export default class Plugin {
    // eslint-disable-next-line no-unused-vars
    initialize(registry, store) {
		...
        // 'open modal'ã‚’å«ã‚€æŠ•ç¨¿ã‚’å—ä¿¡ã™ã‚‹ã¨ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã
        registry.registerWebSocketEventHandler(
            'posted',
            (event) => {
                const post = JSON.parse(event.data.post);
                if (post && post.message && post.message.includes('open modal')) {
                    store.dispatch(openRootModal());
                }
            }
        );
    }
}
```

### [unregisterWebSocketEventHandler](https://developers.mattermost.com/extend/plugins/webapp/reference/#unregisterWebSocketEventHandler)

`unregisterWebSocketEventHandler`ã¯ã€`registerWebSocketEventHandler`ã«ã‚ˆã£ã¦ WebSocket ã‚¤ãƒ™ãƒ³ãƒˆã«å¯¾ã—ã¦è¨­å®šã•ã‚ŒãŸ Handler ã‚’ç™»éŒ²ã‹ã‚‰é™¤å¤–ã—ã¾ã™ã€‚

ä¾‹ã¯çœç•¥ã—ã¾ã™ã€‚

### [registerReconnectHandler](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerReconnectHandler)

`registerReconnectHandler`ã¯ã€ä¸€åº¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãŒå¤±ã‚ã‚ŒãŸå¾Œã«å†ã³ Mattermost ã¸æ¥ç¶šã—ãŸéš›ã«å®Ÿè¡Œã•ã‚Œã‚‹ Handler ã§ã™ã€‚

`registerReconnectHandler`ã¯å¼•æ•°ã®ãªã„é–¢æ•°ã‚’å¼•æ•°ã«å–ã‚Šã¾ã™ã€‚

- `handler`: Mattermost ã¸å†æ¥ç¶šã—ãŸéš›ã«å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°

ä¾‹ã¯çœç•¥ã—ã¾ã™ã€‚

### [unregisterReconnectHandler](https://developers.mattermost.com/extend/plugins/webapp/reference/#unregisterReconnectHandler)

`unregisterReconnectHandler`ã¯ã€`registerReconnectHandler`ã§ç™»éŒ²ã—ãŸ Handler ã‚’ç™»éŒ²ã‹ã‚‰é™¤å¤–ã—ã¾ã™ã€‚å¼•æ•°ã¯å–ã‚Šã¾ã›ã‚“ã€‚

ã“ã¡ã‚‰ã‚‚ä¾‹ã¯çœç•¥ã—ã¾ã™ã€‚

### [registerMessageWillBePostedHook](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerMessageWillBePostedHook)

`registerMessageWillBePostedHook`ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŠ•ç¨¿ã‚’é€ä¿¡ã—ãŸéš›ã€ãã®æŠ•ç¨¿ãŒã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹å‰ã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

`registerMessageWillBePostedHook`ã¯ã€å¼•æ•°ã‚’ 1 ã¤å–ã‚Šã¾ã™ã€‚

- `hook`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã£ã¦æŠ•ç¨¿å‡¦ç†ãŒå®Ÿè¡Œã•ã‚ŒãŸéš›ã€ãã®æŠ•ç¨¿ãŒã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹ç›´å‰ã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†

`hooks`ã¯ã€å¼•æ•°ã‚’ä¸€ã¤å–ã‚Šã¾ã™ã€‚

- `post`: æŠ•ç¨¿ã®æƒ…å ±

`hook`ã®è¿”ã‚Šå€¤ã¨ã—ã¦ã€æŠ•ç¨¿æƒ…å ±ã‚’æŒã¤`error`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å«ã‚€å€¤ã‚’è¿”å´ã—ãŸå ´åˆã€æŠ•ç¨¿ã¯ reject ã•ã‚Œã¾ã™ã€‚æŠ•ç¨¿æƒ…å ±ã‚’æŒã¤`post`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚’å«ã‚€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”å´ã—ãŸå ´åˆã¯ã€`post`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã§æŠ•ç¨¿ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

`å¿™ã—ã„`ã¨ã„ã†æ–‡è¨€ã‚’å«ã‚€æŠ•ç¨¿ã‚’ä½œæˆã™ã‚‹ã¨ reject ã•ã‚Œã€`å¸°ã‚ŠãŸã„`ã¨ã„ã†æ–‡è¨€ã‚’å«ã‚€æŠ•ç¨¿ã‚’ä½œæˆã™ã‚‹ã¨`ä»•äº‹ã—ãŸã„`ã«å¤‰æ›ã•ã‚Œã‚‹ä¾‹ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚

![](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day21/message-will-be-posted-hook.gif)

```js:index.js
...
export default class Plugin {
    // eslint-disable-next-line no-unused-vars
    initialize(registry, store) {
		...
        // æŠ•ç¨¿ãŒã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹å‰ã«rejectã—ãŸã‚Šå†…å®¹ã‚’å¤‰æ›ã—ãŸã‚Šã™ã‚‹
        registry.registerMessageWillBePostedHook(
            (post) => {
                if (post.message && post.message.includes('å¿™ã—ã„')) {
                    return {error: {message: 'å¿™ã—ãã¯ãªã„ã¯ãšã§ã™'}};
                }
                post.message = post.message.replace(/å¸°ã‚ŠãŸã„/gi, 'ä»•äº‹ã—ãŸã„');
                return {post: post};
            }
        );
    }
}
```

### [registerSlashCommandWillBePostedHook](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerSlashCommandWillBePostedHook)

`registerSlashCommandWillBePostedHook`ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ Slash Command ã‚’å®Ÿè¡Œã—ãŸéš›ã€ãã®æŠ•ç¨¿ãŒã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹å‰ã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

`registerSlashCommandWillBePostedHook`ã¯ã€å¼•æ•°ã‚’ 1 ã¤å–ã‚Šã¾ã™ã€‚

- `hook`: Slash Command ãŒå®Ÿè¡Œã•ã‚ŒãŸéš›ã«ã€ãã®å†…å®¹ãŒã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹ç›´å‰ã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†

`hook`ã¯ã€å¼•æ•°ã‚’ 2 ã¤å–ã‚Šã¾ã™ã€‚

- `message`: æŠ•ç¨¿ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- `args`: Slash Command å®Ÿè¡Œæƒ…å ±(`channel_id`, `team_id`, `root_id`, `parent_id`)

`/away`ã‚’ rejectã€`/help`ã‚’`/shrug`ã«æ›¸ãæ›ãˆã€`/leave`ã‚’ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãªã—ã§ reject ã™ã‚‹ã‚ˆã†ãªå‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ä¾‹ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚

![](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day21/slash-command-will-be-posted-hook.gif)

```js:index.js
...
export default class Plugin {
    // eslint-disable-next-line no-unused-vars
    initialize(registry, store) {
		...
        // Slash CommandãŒã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹å‰ã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ã‚’è¿½åŠ ã™ã‚‹
        registry.registerSlashCommandWillBePostedHook(
            (message, args) => {
                console.log(message);
                if (message.startsWith('/away')) {
                    return {error: {message: 'rejected'}};
                }
                if (message.startsWith('/help')) {
                    console.log('help');
                    return {message: '/shrug converted from help command', args};
                }
                if (message.startsWith('/leave')) {
                    console.log('leave');
                    return {};
                }
            }
        );
    }
}
```

### [registerMessageWillFormatHook](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerMessageWillFormatHook)

`registerMessageWillFormatHook`ã¯ã€æŠ•ç¨¿ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒ Markdown ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦å¤‰æ›ã•ã‚Œã‚‹ç›´å‰ã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

`registerMessageWillFormatHook`ã¯ã€å¼•æ•°ã‚’ 1 ã¤å–ã‚Šã¾ã™ã€‚

- `hook`: æŠ•ç¨¿ãŒ Markdown ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦å¤‰æ›ã•ã‚Œã‚‹ç›´å‰ã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†

`hook`ã¯ã€å¼•æ•°ã‚’ 2 ã¤å–ã‚Šã¾ã™ã€‚

- `post`: å¤‰æ›ã•ã‚Œã¦ã„ãªã„æŠ•ç¨¿æƒ…å ±
- `message`: æŠ•ç¨¿ã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã‚ˆã£ã¦å¤‰æ›ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ã‚ã‚Šï¼‰

`hook`ã®è¿”å´å€¤ã¨ã—ã¦è¿”ã•ã‚ŒãŸæ–‡å­—åˆ—ãŒæŠ•ç¨¿ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

`registerMessageWillBePostedHook`ã¯ã€æŠ•ç¨¿ãŒã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œã‚‹å‰ã«æŠ•ç¨¿å†…å®¹ã‚’ç·¨é›†ã™ã‚‹ã‚‚ã®ã§ã—ãŸãŒã€ã“ã®`registerMessageWillFormatHook`ã¯ã€æŠ•ç¨¿ãŒã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ãƒ»ä¿å­˜ã•ã‚ŒãŸå¾Œã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹éš›ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç·¨é›†ã™ã‚‹ã‚‚ã®ã ã¨æ€ã‚ã‚Œã¾ã™ã€‚

è‰¯ã„åˆ©ç”¨æ–¹æ³•ãŒæ€ã„ã¤ã‹ãªã„ã®ã§ä¾‹ã¯çœç•¥ã—ã¾ã™ã€‚

### [registerFilePreviewComponent](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerFilePreviewComponent)

`registerFilePreviewComponent`ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”¨ã®ç‹¬è‡ªã® Component ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

`registerFilePreviewComponent`ã¯ã€2 ã¤ã®é–¢æ•°ã‚’å¼•æ•°ã«å–ã‚Šã¾ã™ã€‚

- `override`: ç‹¬è‡ªã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ Component ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’æ±ºå®šã™ã‚‹ãŸã‚ã®é–¢æ•°ã€‚ä»¥ä¸‹ã® 2 ã¤ã‚’å¼•æ•°ã«å–ã‚Šã¾ã™ã€‚
- `component`: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”¨ã® Component

`override`ã¯ã€å¼•æ•°ã‚’ 2 ã¤å–ã‚Šã¾ã™ã€‚

- `fileInfo`: ãƒ•ã‚¡ã‚¤ãƒ«ã®æƒ…å ±
- `post`: æŠ•ç¨¿ã®æƒ…å ±

`debug`ã§å§‹ã¾ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŒã¤æŠ•ç¨¿ã®æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹éš›ã«ã€ç‹¬è‡ªã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ä¾‹ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚

![](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day21/file-preview-component.gif)

```js:index.js
...
import CustomFilePreview from './components/custom_file_preview';
...
export default class Plugin {
    // eslint-disable-next-line no-unused-vars
    initialize(registry, store) {
		...
        // `debug`ã§å§‹ã¾ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŒã¤æŠ•ç¨¿ã®æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç‹¬è‡ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹
        registry.registerFilePreviewComponent(
            (fileInfo, post) => { return post.message && post.message.startsWith('debug'); },
            CustomFilePreview
        );
    }
}
```

```js:components/custom_file_preview.jsx
import React from 'react';
import PropTypes from 'prop-types';

const {formatText, messageHtmlToComponent} = window.PostUtils;

const CustomFilePreviewComponent = ({fileInfo, post}) => {
    const formattedText = messageHtmlToComponent(formatText(post.message));

    return (
        <div style={{backgroundColor: '#ffcccc'}}>
            {formattedText}
            <pre>
                {JSON.stringify(fileInfo, null, 4)}
            </pre>
        </div>
    )
}

CustomFilePreviewComponent.propTypes = {
    fileInfo: PropTypes.object.isRequired,
    post: PropTypes.object.isRequired,
};

export default CustomFilePreviewComponent;
```

### [registerTranslations](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerTranslations)

`registerTranslations`ã¯ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å†…ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç¿»è¨³ãƒ‡ãƒ¼ã‚¿ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

`registerTranslations`ã¯ã€`locale`ã‚’å¼•æ•°ã«ã¨ã‚Šã€ãã®`locale`ã«å¯¾ã™ã‚‹ç¿»è¨³ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™é–¢æ•°ã‚’å¼•æ•°ã«å–ã‚Šã¾ã™ã€‚

RootModal å†…ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ—¥æœ¬èªã«ç¿»è¨³ã™ã‚‹ä¾‹ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸãŒã€ã©ã†ã‚„ã‚‰ç¿»è¨³ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ãªã„æ¨¡æ§˜ï¼Ÿ

```js:index.js
...
import ja from 'i18n/';
...
export default class Plugin {
    // eslint-disable-next-line no-unused-vars
    initialize(registry, store) {
		...
        // ç¿»è¨³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹
        registry.registerTranslations((locale) => {
            switch (locale) {
            case 'en':
                return en;
            case 'ja':
                return ja;
            }
            return {};
        });
    }
}
```

```json:i18n/ja.json
{
    "rootModal.message": "ãƒ«ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ€ãƒ«"
}
```

```js:components/root/root.jsx

import React from 'react';

import {FormattedMessage} from 'react-intl';

const Root = ({visible, close}) => {
    if (!visible) {
        return null;
    }

    const style = getStyle();

    return (
        <div
            style={style.backdrop}
            onClick={close}
        >
            <div style={style.modal}>
                <FormattedMessage
                    id='rootModal.message'
                    defaultMessage='Root Modal2'
                />
            </div>
        </div>
    );
};

Root.propTypes = {
    visible: PropTypes.bool.isRequired,
    close: PropTypes.func.isRequired,
};

const getStyle = () => ({
    backdrop: {
        position: 'absolute',
        display: 'flex',
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        backgroundColor: 'rgba(0, 0, 0, 0.50)',
        zIndex: 2000,
        alignItems: 'center',
        justifyContent: 'center',
    },
    modal: {
        height: '300px',
        width: '500px',
        padding: '1em',
        color: 'black',
        backgroundColor: 'white',
    },
});

export default Root;
```

### [registerAdminConsolePlugin](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerAdminConsolePlugin)

`registerAdminConsolePlugin`ã¯ã€AdminConsole(ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ³ã‚½ãƒ¼ãƒ«?)ã®å†…å®¹ã‚’ä¸Šæ›¸ãã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

Mattermost å†…éƒ¨ã§ã®åˆ©ç”¨ãŒä¸»ç›®çš„ã§ã‚ã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã‚ˆã‚‹ä½¿ç”¨ã¯æ¨å¥¨ã•ã‚Œã¦ã„ãªã„ã‚ˆã†ãªã®ã§ä¾‹ã¯çœç•¥ã—ã¾ã™ã€‚ï¼ˆä½¿ã„æ–¹ãŒã‚ˆãåˆ†ã‹ã‚‰ãªã„ï¼‰

### [unregisterAdminConsolePlugin](https://developers.mattermost.com/extend/plugins/webapp/reference/#unregisterAdminConsolePlugin)

`unregisterAdminConsolePlugin`ã¯ã€`registerAdminConsolePlugin`ã§ç™»éŒ²ã—ãŸã€€ AdminConsole ä¸Šæ›¸ãç”¨é–¢æ•°ã‚’ç™»éŒ²ã‹ã‚‰é™¤å¤–ã—ã¾ã™ã€‚
`registerAdminConsolePlugin`ãŒ Mattermost å†…éƒ¨ã§ã®åˆ©ç”¨ãŒä¸»ç›®çš„ã®ãŸã‚ã€ã“ã¡ã‚‰ã‚‚èª¬æ˜ã€ä¾‹ã¯çœç•¥ã—ã¾ã™ã€‚

### [registerAdminConsoleCustomSetting](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerAdminConsoleCustomSetting)

`registerAdminConsoleCustomSetting`ã¯ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç”¨ã®è¨­å®šç”»é¢ã«ç‹¬è‡ªã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚
ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ API ã«ã¤ã„ã¦ã¯ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®[Best Practices](https://developers.mattermost.com/extend/plugins/best-practices/#how-can-a-plugin-define-its-own-setting-type)ã®ãƒšãƒ¼ã‚¸ã«è©³ç´°ã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

Mattermost Plugin ã§ã¯ã€ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®`settings_schema`ã¨ã„ã†é …ç›®ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å°‚ç”¨ã®è¨­å®šé …ç›®ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

https://developers.mattermost.com/extend/plugins/manifest-reference/

![](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day21/admin-console-custom-settings-default.png)

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ä¸‹è¨˜ã®`type`ã‚’æŒã¤è¨­å®šé …ç›®ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- "bool": ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ (2 å€¤)
- "dropdown": ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
- "generated": è‡ªå‹•ç”Ÿæˆãƒ†ã‚­ã‚¹ãƒˆ
- "radio": ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ (ä»»æ„)
- "text": ã‚¤ãƒ³ãƒ—ãƒƒãƒˆãƒœãƒƒã‚¯ã‚¹
- "longtext": è¤‡æ•°è¡Œãƒ†ã‚­ã‚¹ãƒˆ
- "number": æ•°å€¤å…¥åŠ›æ¬„
- "username":ãƒ¦ãƒ¼ã‚¶ãƒ¼åå…¥åŠ›æ¬„

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®`type`ä»¥å¤–ã®è¨­å®šé …ç›®ã‚’æŒ‡å®šã—ãŸã„å ´åˆã«`registerAdminConsoleCustomSetting`ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

`registerAdminConsoleCustomSetting`ã¯ã€3 ã¤ã®å¼•æ•°ã‚’å–ã‚Šã¾ã™ã€‚

- `key`: ä¸Šæ›¸ãã™ã‚‹è¨­å®šé …ç›®ã®`key`ã€‚`key`ã¯ã€ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«è¨­å®šé …ç›®ã”ã¨ã«ä»»æ„ã§æŒ‡å®šã™ã‚‹å€¤ã§ã™ã€‚
- `component`: è¨­å®šç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ Componentã€‚
- `options`: è¨­å®šé …ç›®ã®è¡¨ç¤ºæ–¹æ³•ã«ã¤ã„ã¦ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³
  - `showTitle`: `true`ã‚’æŒ‡å®šã—ãŸå ´åˆã€ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®`display_name`ãŒè¨­å®šé …ç›®ã®å·¦å´ã«è¡¨ç¤ºã•ã‚Œã¾ã™

ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ã‚’å…¥åŠ›ã™ã‚‹éš›ã«ã€å…¥åŠ›é …ç›®ã‚’ UI ä¸Šã«è¡¨ç¤ºã—ãªã„ã‚ˆã†ãªè¨­å®šé …ç›®ã‚’è¿½åŠ ã™ã‚‹ä¾‹ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚

![](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day21/admin-console-custom-settings.png)

```json:plugin.json
{
    ...
    "settings_schema": {
        "settings": [
            {
                "key": "SampleSetting",
                "display_name": "Sample Setings Value",
                "type": "text",
                "help_text": "Sample",
                "default": "sample"
            }
        ]
    }
}
```

```js:index.js
...
import CustomSettings from './components/custom_settings';
...
export default class Plugin {
    // eslint-disable-next-line no-unused-vars
    initialize(registry, store) {
		...
        // ç‹¬è‡ªã®è¨­å®šç”»é¢é …ç›®ã‚’è¿½åŠ ã™ã‚‹
        registry.registerAdminConsoleCustomSetting(
            'SampleSetting',
            CustomSettings,
            {showTitle: true}
        );
    }
}
```

```js:components/custom_settings.jsx
import React from 'react';
import PropTypes from 'prop-types';

const CustomSettingsComponent = ({helpText, id, onChange, value}) => {
    const handleChange = (e) => {
        onChange(id, e.target.value);
    }
    return (
        <div style={{backgroundColor: '#ffcccc'}}>
            <input
              type={'password'}
              value={value}
              onChange={handleChange}
            />
            <pre>
                {JSON.stringify(helpText.props, null, 4)}
            </pre>
        </div>
    )
}

CustomSettingsComponent.propTypes = {
    helpText: PropTypes.shape ({
        props: PropTypes.object,
    }),
    id: PropTypes.string,
    onChange: PropTypes.func,
    value: PropTypes.any,
};

export default CustomSettingsComponent;
```

### [registerRightHandSidebarComponent](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerRightHandSidebarComponent)

`registerRightHandSidebarComponent`ã¯ã€Mattermost ã®å³ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã™ã‚‹ç‹¬è‡ªã® Component ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

`registerRightHandSidebarComponent`ã¯ã€2 ã¤ã®å¼•æ•°ã‚’å–ã‚Šã¾ã™ã€‚

- `component`: å³ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ Component
- `title`: å³ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ã‚¿ã‚¤ãƒˆãƒ«éƒ¨åˆ†ã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ†ã‚­ã‚¹ãƒˆ

ã¾ãŸã€`registerRightHandSidebarComponent`ã¯ 4 ã¤ã®å¼•æ•°ã‚’è¿”å´ã—ã¾ã™ã€‚

- `id`: ç™»éŒ²ã•ã‚ŒãŸ Component ã® ID
- `showRHSPlugin`: ç™»éŒ²ã—ãŸ Component ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
- `hideRHSPlugin`: ç™»éŒ²ã—ãŸ Component ã‚’éè¡¨ç¤ºã«ã™ã‚‹ãŸã‚ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
- `toggleRHSPlugin`: ç™»éŒ²ã—ãŸ Component ã®è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

ç™»éŒ²ã—ãŸ Component ã¯ã€ä»–ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ API ã‹ã‚‰`shorRHSPlugin`ã€`hideRHSPlugin`ã€`toggleRHSPlugin`ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚`RHS`ã¯`RightHandSideber`ã®ç•¥ã§ã™ã€‚

å³ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«ç‹¬è‡ªã® Component ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«è¿½åŠ ã™ã‚‹ä¾‹ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚

![](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day21/right-hand-sidebar.gif)

```js:index.js
...
import CustomRightHandSideber from './components/custom_rhs';
...
export default class Plugin {
    // eslint-disable-next-line no-unused-vars
    initialize(registry, store) {
		...
        // å³ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ç‹¬è‡ªComponentã‚’ç™»éŒ²ã™ã‚‹
        const {toggleRHSPlugin} = registry.registerRightHandSidebarComponent(CustomRightHandSideber, "Sample RHS")
        // å³ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’è¿½åŠ ã™ã‚‹
        registry.registerMainMenuAction(
            'Open RHS',
            () => store.dispatch(toggleRHSPlugin),
            () => (<i/>)
        );
    }
}
```

```js:components/custom_rhs.jsx
import React from 'react';
import PropTypes from 'prop-types';

const ComponentRightHandSidebar = ({theme}) => {
    return (
        <div style={{backgroundColor: '#ffcccc'}}>
            <pre>
                {JSON.stringify(theme, null, 4)}
            </pre>
        </div>
    )
}

ComponentRightHandSidebar.propTypes = {
    PluggableId: PropTypes.string.isRequired,
    theme: PropTypes.object.isRequired,
};

export default ComponentRightHandSidebar;
```

### [registerNeedsTeamRoute](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerNeedsTeamRoute)

`registerNeedsTeamRoute`ã¯ã€ãƒãƒ¼ãƒ ã”ã¨ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å°‚ç”¨ã® Route ã‚’è¿½åŠ ã—ã¾ã™ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å°‚ç”¨ã®ã‚¨ãƒ©ãƒ¼ç”»é¢ã‚’ä½œæˆã—ãŸã„å ´åˆãªã©ã«ä½¿ç”¨ã™ã‚‹ã‚‚ã®ã ã¨æ€ã„ã¾ã™ã€‚

`registerNeedsTeamRoute`ã¯ã€2 ã¤ã®å¼•æ•°ã‚’å–ã‚Šã¾ã™ã€‚

- `route`: ãƒ«ãƒ¼ãƒˆæ–‡å­—åˆ—
- `comopnent`: `route`ã«ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚ŒãŸéš›ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ Component

`http://localhost:8065`ã§ Mattermost ãŒèµ·å‹•ã—ã¦ã„ã¦ã€`test`ã¨ã„ã†ãƒãƒ¼ãƒ åã®ãƒãƒ¼ãƒ ãŒã‚ã‚Šã€`sample.plugin`ã¨ã„ã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ ID ã‚’æŒã¤ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ãŠã‚Šã€ãã®ä¸­ã§`registerNeedsTeamRoute`ã®å¼•æ•°ã¨ã—ã¦`route="/subpath"`ãŒæŒ‡å®šã•ã‚Œã¦ã„ãŸå ´åˆã€`http://localhost:8065/test/sample.plugin/subpath`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€`component`ã«æŒ‡å®šã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚

ä»¥ä¸‹ã«ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

![](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day21/needs-team-route.gif)

```js:index.js
...
import CustomTeamRoute from './components/custom_team_route';
...
export default class Plugin {
    // eslint-disable-next-line no-unused-vars
    initialize(registry, store) {
		...
        // ç‹¬è‡ªã®Routeã‚’è¿½åŠ ã™ã‚‹
        registry.registerNeedsTeamRoute('/', CustomTeamRoute)
    }
}
```

```js:components/custom_team_route.jsx
import React from 'react';
import PropTypes from 'prop-types';

import {Switch, Route} from 'react-router-dom';
import {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';
import {useSelector} from 'react-redux';

import {id} from 'src/manifest';

const CustomTeamRouteComponent = () => {
    const currentTeam = useSelector(getCurrentTeam);
    return (
        <Switch>
            <Route path={`/${currentTeam.name}/${id}/error`}>
                <h3>{'This is error page!'}</h3>
                <p>
                    <a href={`/${currentTeam.name}`}>Back to Top</a>
                </p>
            </Route>
            <Route>
                <h3>{'404 Not Found'}</h3>
                <p>
                    <a href={`/${currentTeam.name}`}>Back to Top</a>
                </p>
            </Route>
        </Switch>
    )
}

CustomTeamRouteComponent.propTypes = {
    pluggableId: PropTypes.object.isRequired,
    theme: PropTypes.object.isRequired,
};

export default CustomTeamRouteComponent;
```

### [registerCustomRoute](https://developers.mattermost.com/extend/plugins/webapp/reference/#registerCustomRoute)

`registerCustomRoute`ã¯ã€ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å°‚ç”¨ã® Route ã‚’è¿½åŠ ã—ã¾ã™ã€‚

`registerNeedsTeamRoute`ã¯ã€`/${team_name}/${plugin_id}/${route}`ã®ã‚ˆã†ã«ãƒãƒ¼ãƒ ã”ã¨ã« Route ã‚’è¿½åŠ ã™ã‚‹ API ã§ã—ãŸãŒã€`registerCustomRoute`ã¯`/plug/${plugin_id}/${route}`ã®ã‚ˆã†ã«ã€Mattermost å…¨ä½“ã¨ã—ã¦ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã”ã¨ã«ä¸€ã¤ã® Route ã‚’è¿½åŠ ã™ã‚‹ API ã§ã™ã€‚

ä½¿ã„æ–¹ã¯`registerNeedsTeamRoute`ã¨ã»ã¼åŒã˜ã®ãŸã‚ã€ä¾‹ã¯çœç•¥ã—ã¾ã™ã€‚

## ãã®ä»–

Mattermost Plugin Webapp é–‹ç™ºä¸­ã«ä½¿ãˆã‚‹ Plugin é–‹ç™ºç”¨ã®ä¾¿åˆ©æ©Ÿèƒ½ãŒã„ãã¤ã‹ã‚ã‚Šã¾ã™ã€‚ãã®æ¦‚è¦ã ã‘ç´¹ä»‹ã—ã¾ã™ã€‚

### [Theme](https://developers.mattermost.com/extend/plugins/webapp/reference/#theme)

Mattermost Plugin API ã®ä¸­ã§ã‚‚ä½•åº¦ã‹å‡ºã¦ãã¾ã—ãŸãŒã€Webapp Plugin ã§ã¯ Mattermost ã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’å‚ç…§ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚Mattermost ã§ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ãŸã‚ã€Webapp Plugin ã§ UI ã®è‰²ã‚’æŒ‡å®šã™ã‚‹å ´åˆã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«è¦‹ãˆæ–¹ãŒç•°ãªã‚‹ã“ã¨ã‚’è€ƒæ…®ã«å…¥ã‚Œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

å‚è€ƒ: [Mattermost ã®ãƒ†ãƒ¼ãƒé›† \- Qiita](https://qiita.com/kaakaa_hoe/items/45c8857589ccd822ab1a)

Mattermost ã§æ‰±ã‚ã‚Œã‚‹ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ä¸€è¦§ã¯ä»¥ä¸‹ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

https://developers.mattermost.com/extend/plugins/webapp/reference/#theme

### [Exported Libraries and Functions](https://developers.mattermost.com/extend/plugins/webapp/reference/#exported-libraries-and-functions)

Mattermost Webapp Plugin ã¯ React.js ã‚’ä½¿ç”¨ã—ã¦é–‹ç™ºã—ã¾ã™ãŒã€React é–‹ç™ºã«ã‚ˆãä½¿ã‚ã‚Œã‚‹ã„ãã¤ã‹ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ Mattermost æœ¬ä½“ã‹ã‚‰`window`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä»‹ã—ã¦å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
å–å¾—ã§ãã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä»¥ä¸‹ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

https://developers.mattermost.com/extend/plugins/webapp/reference/#exported-libraries-and-functions

ã¾ãŸã€`window`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å‚ç…§ã§ãã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦`window.PostUtils`ã¨ã„ã†ã®ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã‚Œã¯ Mattermost ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æ‰±ã†ãŸã‚ã®ä¾¿åˆ©é–¢æ•°ã‚’æŒã¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚

ä»¥ä¸‹ã®ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€@ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ãªã©ã‚’å«ã‚€ Markdown ãƒ†ã‚­ã‚¹ãƒˆ(`text`)ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—ã¦æ‰±ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

```js
const { formatText, messageHtmlToComponent } = window.PostUtils;

const text = "...";
const formattedText = messageHtmlToComponent(formatText(text));
```

https://developers.mattermost.com/extend/plugins/webapp/reference/#post-utils

### [Redux Action](https://developers.mattermost.com/extend/plugins/webapp/actions/))

Webapp ä¸Šã§æŠ•ç¨¿ã‚„ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å–å¾—ãªã©ã® Mattermost ã«å¯¾ã™ã‚‹ä½•ã‹ã—ã‚‰ã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆã€[mattermost-redux](https://github.com/mattermost/mattermost-redux)ã¨ã„ã† Redux ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ Mattermost æœ¬ä½“ã® Webapp ã§ã‚‚åˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹å…¬å¼ã® Javascript API ã®ã‚ˆã†ãªä½ç½®ä»˜ã‘ã®ã‚‚ã®ã§ã™ã€‚

mattermost-redux ã¯ã‚‚ã¡ã‚ã‚“ Mattermost Plugin é–‹ç™ºã§ã‚‚ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã€ä¸‹è¨˜ã®ãƒšãƒ¼ã‚¸ã§ä½¿ã„æ–¹ã«ã¤ã„ã¦ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

https://developers.mattermost.com/extend/plugins/webapp/actions/

## ã•ã„ã”ã«

æœ¬æ—¥ã¯ã€Mattermost Plugin ã®**Webapp**ã‚µã‚¤ãƒ‰ã®å®Ÿè£…ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚
æ˜æ—¥ã‹ã‚‰ã¯ã€Mattermost ä¸Šã§æŠ•ç¥¨æ©Ÿèƒ½ã‚’ä½¿ã†ã“ã¨ãŒã§ãã‚‹ MatterPoll ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å®Ÿè£…ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚
