---
title: "[Mattermost Integrations] Interactive Message Button"
date: 2020-12-14T00:00:00+09:00
emoji: "ğŸ“†"
type: "tech"
topics: ["Mattermost"]
published: true
aliases: "/post/mattermost/advent-calendar-2020/day14-interactive-message-button"
---

Mattermost è¨˜äº‹ã¾ã¨ã‚: https://blog.kaakaa.dev/tags/mattermost/

## æœ¬è¨˜äº‹ã«ã¤ã„ã¦

[Mattermost ã®çµ±åˆæ©Ÿèƒ½ã‚¢ãƒ‰ãƒ™ãƒ³ãƒˆã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼](https://qiita.com/advent-calendar/2020/mattermost-integrations)ã®ç¬¬ 14 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚

æœ¬è¨˜äº‹ã§ã¯ã€Mattermost ã®æŠ•ç¨¿ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ“ä½œã§ãã‚‹ãƒœã‚¿ãƒ³ã‚’è¿½åŠ ã™ã‚‹ Interactive Message Button ã®æ©Ÿèƒ½ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚

## Interactive Message Button æ¦‚è¦

Interactive Message Button ã¯ã€Mattermost ã®æŠ•ç¨¿ã«ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã—ã€ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã‚‹ã¨ã©ã®ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã®ã‹ã¨ã„ã†æƒ…å ±ãŒã‚µãƒ¼ãƒãƒ¼ã¸é€ä¿¡ã•ã‚Œã‚‹æ©Ÿèƒ½ã§ã™ã€‚

![official example](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day14/official-example.png)
(ç”»åƒã¯[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.mattermost.com/developer/interactive-messages.html)ã‹ã‚‰)

Interactive Message ã«é–¢ã™ã‚‹å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ä¸‹è¨˜ã«ãªã‚Šã¾ã™ã€‚

- https://docs.mattermost.com/developer/interactive-messages.html

### ä½œæˆ

Interactive Message Button ã‚’å«ã‚€æŠ•ç¨¿ã‚’ä½œæˆã™ã‚‹ã«ã¯ã€Message Attachments æ©Ÿèƒ½ã¨åŒæ§˜`attachments`ã« Button ã«é–¢ã™ã‚‹æƒ…å ±ã‚’è¿½åŠ ã—ã¾ã™ã€‚

Incoming Webhook(å†…å‘ãã®ã‚¦ã‚§ãƒ–ãƒ•ãƒƒã‚¯)ã‚’ä½¿ã£ã¦ä½œæˆã™ã‚‹ä¾‹ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```bash
BODY='{
  "attachments": [{
    "title": "Echo text",
    "actions": [{
	  "id": "echo",
      "name": "Echo",
      "integration": {
        "url": "http://localhost:8080/actions/echo",
        "context": {
          "text": "sample text"
		}
	  }
	}, {
      "name": "Reject",
	  "style": "danger",
      "integration": {
        "url": "http://localhost:8080/actions/reject"
	  }
	}]
  }]
}'

curl \
  -H "Content-Type: application/json" \
  -d "$BODY"  \
  http://localhost:8065/hooks/ucw5qjw86jgeum77o1uw8197jr
```

ä¸Šè¨˜ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªãƒœã‚¿ãƒ³ã‚’å«ã‚€æŠ•ç¨¿ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

![first example](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day14/example-button.png)

ãƒªã‚¯ã‚¨ã‚¹ãƒˆå†…å®¹ã¨è¦‹ã‚‹ã¨ã€`actions`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å«ã¾ã‚Œã‚‹ä¸‹è¨˜ã®ä¸€ã¤ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒä¸€ã¤ã®ãƒœã‚¿ãƒ³ã«é–¢é€£ã—ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚

```bash
{
  "id": "echo",
  "name": "Echo",
  "integration": {
    "url": "http://localhost:8080/actions/echo",
    "context": {
      "text": "sample text"
    }
  }
}
```

`id`ã¯ãƒœã‚¿ãƒ³ã® IDã€`name`ã¯æŠ•ç¨¿ä¸Šã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒœã‚¿ãƒ³ã®ãƒ©ãƒ™ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚`integration`å†…ã«ã¯ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã«é€ä¿¡ã•ã‚Œã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æƒ…å ±ã‚’è¨˜è¿°ã—ã¦ãŠã‚Šã€`url`ã«ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡å…ˆã® URL ã‚’ã€`context`ã«ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å«ã¾ã‚Œã‚‹ä»»æ„ã®æƒ…å ±ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚ã«ä½•ã‹å‡¦ç†ã‚’è¡Œã†ã«ã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚‹ã‚µãƒ¼ãƒãƒ¼ã‚’ç”¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ãã‚Œã«ã¤ã„ã¦ã¯å¾Œè¿°ã—ã¾ã™ã€‚

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

`actions`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æŒ‡å®šã§ãã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€Mattermost ã®ã‚µãƒ¼ãƒãƒ¼å´ã®ã‚³ãƒ¼ãƒ‰ã«`PostAction`æ§‹é€ ä½“ã¨ã—ã¦å®£è¨€ã•ã‚Œã¦ã„ã¾ã™ã€‚
https://github.com/mattermost/mattermost-server/blob/master/model/integration_action.go#L37

- `id`: 1 æŠ•ç¨¿å†…ã§ãƒ¦ãƒ‹ãƒ¼ã‚¯ã¨ãªã‚‹ãƒœã‚¿ãƒ³ã® ID ã‚’æŒ‡å®šã—ã¾ã™ã€‚æŒ‡å®šã—ãªã„å ´åˆã€Mattermost å´ã§ä¸€æ„ã® ID ãŒä»˜ä¸ã•ã‚Œã¾ã™ã€‚
- `type`: Interactive Message ã®ç¨®åˆ¥ã‚’æŒ‡å®šã—ã¾ã™ã€‚`select`ã‹`button`ã‚’æŒ‡å®šã§ãã€ä½•ã‚‚æŒ‡å®šã—ãªã„ã¨`button`ãŒæŒ‡å®šã•ã‚Œã¾ã™ã€‚
- `name`: Mattermost å†…ã§ãƒœã‚¿ãƒ³ã®ãƒ©ãƒ™ãƒ«ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹æ–‡å­—åˆ—ã‚’æŒ‡å®šã—ã¾ã™ã€‚
- `disabled`: ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚`true`ã‚’æŒ‡å®šã™ã‚‹ã¨ãƒœã‚¿ãƒ³ãŒæŠ¼ã›ãªããªã‚Šã¾ã™ã€‚
- `style`: ãƒœã‚¿ãƒ³ã®è‰²ã‚’æŒ‡å®šã§ãã¾ã™ã€‚`default`, `primary`, `success`, `good`, `warning`, `danger`, ã‚‚ã—ãã¯ä»»æ„ã® Hex color(`"#FF9900"`ãªã©)ã‚’æŒ‡å®šã§ãã¾ã™ã€‚
  Outgoing WebHook ã‚’åˆ©ç”¨ã™ã‚‹ã«ã¯ã€**ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ³ã‚½ãƒ¼ãƒ« > çµ±åˆæ©Ÿèƒ½ç®¡ç† > å¤–å‘ãã®ã‚¦ã‚§ãƒ–ãƒ•ãƒƒã‚¯ã‚’æœ‰åŠ¹ã«ã™ã‚‹** ã®è¨­å®šãŒ`æœ‰åŠ¹`ã«ãªã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
- `data_source`: Interactive Message **Button**ã§ã¯ä½¿ç”¨ã—ã¾ã›ã‚“ã€‚Interactie Message **Menu**ã§ã®ã¿ä½¿ç”¨ã—ã¾ã™ã€‚
- `options`: Interactive Message **Button**ã§ã¯ä½¿ç”¨ã—ã¾ã›ã‚“ã€‚Interactie Message **Menu**ã§ã®ã¿ä½¿ç”¨ã—ã¾ã™ã€‚
- `default_option`: Interactive Message **Button**ã§ã¯ä½¿ç”¨ã—ã¾ã›ã‚“ã€‚Interactie Message **Menu**ã§ã®ã¿ä½¿ç”¨ã—ã¾ã™ã€‚
- `integration`: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ãŸéš›ã«é€ä¿¡ã•ã‚Œã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«é–¢ã™ã‚‹æƒ…å ±ã‚’æŒ‡å®šã—ã¾ã™ã€‚
  - `url`: ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡å…ˆã® URL ã‚’æŒ‡å®šã—ã¾ã™ã€‚
  - `context`: é€ä¿¡ã•ã‚Œã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å«ã¾ã‚Œã‚‹è¿½åŠ æƒ…å ±ã‚’æŒ‡å®šã—ã¾ã™
  - `integration`ã«æŒ‡å®šã—ãŸæƒ…å ±ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡æ™‚ã«ã—ã‹èª­ã¿å‡ºã•ã‚Œãªã„ãŸã‚ã€(https ãªã©ã§é€šä¿¡çµŒè·¯ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒæ‹…ä¿ã•ã‚Œã¦ã„ã‚Œã°)ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã®ã‚ˆã†ãªç§˜å¯†æƒ…å ±ãªã©ã‚‚å«ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### å®Ÿè¡Œ

Interactive Message Button ã‚’æ©Ÿèƒ½ã•ã›ã‚‹ã«ã¯ã€ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚ã«é€ä¿¡ã•ã‚Œã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ã‚’ç«‹ã¦ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯ã€slash command ã®å¼•æ•°ã«æŒ‡å®šã—ãŸãƒ†ã‚­ã‚¹ãƒˆã‚’ Echo ã™ã‚‹ã‚ˆã†ãª Interactive Message Button ã«ã¤ã„ã¦è€ƒãˆã¾ã™ã€‚

![video](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day14/interactive-button.gif)

slash commandã€Interactive Message Button ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚‹ã‚µãƒ¼ãƒãƒ¼ã‚¢ãƒ—ãƒªã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

(ä»Šå›ã®ä¾‹ã§ã¯ slash commandã€Interactive Message Button å…±ã«ã€Mattermost ã‹ã‚‰`localhost`ã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé€ä¿¡ã•ã‚Œã‚‹ãŸã‚ã€**ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ³ã‚½ãƒ¼ãƒ« > é–‹ç™ºè€… > ä¿¡é ¼ã•ã‚Œã¦ã„ãªã„å†…éƒ¨æ¥ç¶šã‚’è¨±å¯ã™ã‚‹**ã®è¨­å®šã«ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡å…ˆã®ã‚µãƒ¼ãƒãƒ¼ã‚’è¨˜è¿°ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚è©³ã—ãã¯[å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.mattermost.com/administration/config-settings.html#allow-untrusted-internal-connections-to)ã‚’å‚ç…§ãã ã•ã„ã€‚)

```go
package main

import (
	"encoding/json"
	"fmt"
	"io"
	"io/ioutil"
	"net/http"

	"github.com/mattermost/mattermost-server/v5/model"
)

func main() {
	// (1) Interactive Message Buttonä½œæˆç”¨slash command
	http.HandleFunc("/command", func(w http.ResponseWriter, r *http.Request) {
		r.ParseForm()

		response := model.CommandResponse{
			ResponseType: model.COMMAND_RESPONSE_TYPE_IN_CHANNEL,
			Attachments: []*model.SlackAttachment{{
				Title: "Echo text",
				Actions: []*model.PostAction{{
					// (2) Echoãƒœã‚¿ãƒ³
					Id:   "echo",
					Name: "Echo",
					Integration: &model.PostActionIntegration{
						URL: "http://localhost:8080/actions/echo",
						Context: map[string]interface{}{
							"text": r.Form.Get("text"),
						},
					},
				}, {
					// (3) Rejectãƒœã‚¿ãƒ³
					Name:  "Reject",
					Style: "danger",
					Integration: &model.PostActionIntegration{
						URL: "http://localhost:8080/actions/reject",
					},
				}},
			}},
		}

		// Need to set header. if not, just json string will be posted.
		w.Header().Add("Content-Type", "application/json")
		io.WriteString(w, response.ToJson())
	})

	// (4) Echo ButtonãŒæŠ¼ã•ã‚ŒãŸã¨ãã®å‡¦ç†
	http.HandleFunc("/actions/echo", func(w http.ResponseWriter, r *http.Request) {
		defer r.Body.Close()

		// (5) ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®èª­ã¿å‡ºã—
		b, _ := ioutil.ReadAll(r.Body)
		var payload model.PostActionIntegrationRequest
		json.Unmarshal(b, &payload)
		text, ok := payload.Context["text"].(string)
		if !ok {
			resp := &model.PostActionIntegrationResponse{EphemeralText: "invalid request. Context['text'] is not found."}
			fmt.Fprint(w, resp.ToJson())
			return
		}

		// (6) ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ§‹ç¯‰
		response := &model.PostActionIntegrationResponse{
			Update: &model.Post{
				Message: text,
				Props:   model.StringInterface{},
			},
		}

		w.Header().Add("Content-Type", "application/json")
		io.WriteString(w, string(response.ToJson()))
	})

	// (7) Rejectãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã¨ãã®å‡¦ç†
	http.HandleFunc("/actions/reject", func(w http.ResponseWriter, r *http.Request) {
		// (8) ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ§‹ç¯‰
		response := &model.PostActionIntegrationResponse{
			Update: &model.Post{
				Props: model.StringInterface{},
			},
			EphemeralText: "Echoing was rejected.",
		}

		w.Header().Add("Content-Type", "application/json")
		io.WriteString(w, string(response.ToJson()))
	})

	http.ListenAndServe(":8080", nil)
}
```

`(1)`ã¯ slash command ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã§ã™ã€‚`http://localhost:8080/command`ã¸ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹ slash command ã‚’äº‹å‰ã«ç™»éŒ²ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚slash command ã®ç™»éŒ²æ–¹æ³•ã«ã¤ã„ã¦ã¯ 6 æ—¥ç›®ã®è¨˜äº‹ã‚’å‚ç…§ãã ã•ã„ã€‚
`(2)`ã§ã¯ã€slash command å®Ÿè¡Œæ™‚ã®å¼•æ•°æƒ…å ±ã‚’ Echo ã™ã‚‹**Echo**ãƒœã‚¿ãƒ³ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚`Integration.URL`ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡å…ˆã¨ã—ã¦`http://localhost:8080/actions/echo`ã‚’ã€`Integration.Context`ã«ã€slash command ã®å¼•æ•°ã¨ã—ã¦æŒ‡å®šã•ã‚ŒãŸæ–‡å­—åˆ—ã‚’ä¿æŒã—ã¦ã„ã¾ã™ã€‚`(3)`ã§ã¯ã€Echo å‡¦ç†ã‚’æ³¨æ„ã™ã‚‹ãŸã‚ã®**Reject**ãƒœã‚¿ãƒ³ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡å…ˆã¯`http://localhost:8080/actions/reject`ã«ã—ã¦ã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€**Reject**ãƒœã‚¿ãƒ³ã«ã¯`"style": "danger"`ã‚’ã—ã¦ã„ã‚‹ãŸã‚ã€ãƒœã‚¿ãƒ³ãŒèµ¤ãè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

slash command ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªæŠ•ç¨¿ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

![example](https://blog.kaakaa.dev/images/posts/advent-calendar-2020/day14/example-button.png)

`(4)`ã§ã€**Echo**ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚ã«é€ä¿¡ã•ã‚Œã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã—ã¦ã„ã¾ã™ã€‚ã¾ãšã€`(5)`ã§é€ä¿¡ã•ã‚ŒãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’èª­ã¿å‡ºã—ã¦ã„ã¾ã™ã€‚Interactive Message Button ã‹ã‚‰é€ä¿¡ã•ã‚Œã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ Mattermost ã®ã‚³ãƒ¼ãƒ‰ã§ã¯[`PostActionIntegrationRequest`](https://github.com/mattermost/mattermost-server/blob/master/model/integration_action.go#L173)ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚

```go
type PostActionIntegrationRequest struct {
	UserId      string                 `json:"user_id"`
	UserName    string                 `json:"user_name"`
	ChannelId   string                 `json:"channel_id"`
	ChannelName string                 `json:"channel_name"`
	TeamId      string                 `json:"team_id"`
	TeamName    string                 `json:"team_domain"`
	PostId      string                 `json:"post_id"`
	TriggerId   string                 `json:"trigger_id"`
	Type        string                 `json:"type"`
	DataSource  string                 `json:"data_source"`
	Context     map[string]interface{} `json:"context,omitempty"`
}
```

ä»Šå›ã¯`Context`å†…ã«`text`ã‚’ã‚­ãƒ¼ã¨ã—ã¦ slash command å®Ÿè¡Œæ™‚ã®å¼•æ•°ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ãã®æ–‡å­—åˆ—ã‚’èª­ã¿å‡ºã—ã¦ã„ã¾ã™ã€‚
ãã—ã¦ã€`(6)`ã§èª­ã¿å‡ºã—ãŸæ–‡å­—åˆ—ã‚’ä½¿ã£ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æ§‹ç¯‰ã—ã¦ã„ã¾ã™ã€‚ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å½¢å¼ã¯ Mattermost ã®ã‚³ãƒ¼ãƒ‰ã§[`PostActionIntegrationResponse`](https://github.com/mattermost/mattermost-server/blob/master/model/integration_action.go#L187)ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚

```go
type PostActionIntegrationResponse struct {
	Update           *Post  `json:"update"`
	EphemeralText    string `json:"ephemeral_text"`
	SkipSlackParsing bool   `json:"skip_slack_parsing"` // Set to `true` to skip the Slack-compatibility handling of Text.
}
```

`PostActionIntegrationResponse`ã®`Update`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æŒ‡å®šã—ãŸ`Post`ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ã€Interactive Message Button ã‚’ç½®ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ slash command ã®å¼•æ•°ã¨ã—ã¦ä¸ãˆã‚‰ã‚ŒãŸæ–‡å­—åˆ—ã‚’ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«æŒã¤æŠ•ç¨¿ã«ç½®ãæ›ãˆã¦ã„ã¾ã™ã€‚`Props: model.StringInterface{},`ã§`Post`ã®`Props`ã‚’ç©ºã«ã—ã¦ã„ã¾ã™ãŒã€ã“ã‚Œã‚’ã—ãªã„ã¨ Interactive Message Button ãŒãšã£ã¨æ®‹ã‚Šç¶šã‘ã¦ã—ã¾ã†ãŸã‚ã€ãƒœã‚¿ãƒ³ã‚’å‰Šé™¤ã—ãŸã„å ´åˆã¯å¿…ãšç©ºã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Mattermost v5.10 ä»¥å‰ã§ã¯ã€æ˜ç¤ºçš„ã«`Props`ã‚’ç©ºã«ã—ãªãã¦ã‚‚ Interactive Message Button ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€Mattermost v5.11 ä»¥ä¸Šã§ã¯ã€æ˜ç¤ºçš„ã«ç©ºã«è¨­å®šã—ãªã„ã¨å‰Šé™¤ã•ã‚Œãªã„ã‚ˆã†ã«ãªã£ãŸã‚ˆã†ã§ã™ã€‚(https://docs.mattermost.com/developer/interactive-messages.html#how-do-i-manage-properties-of-an-interactive-message)

`(7)`ã¯ã€**Reject**ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã¨ãã®å‡¦ç†ã§ã™ã€‚`(8)`ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æ§‹ç¯‰ã—ã¦ã„ã¾ã™ãŒã€ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚ã« Interactive Message Button ã‚’å«ã‚€æŠ•ç¨¿ã‚’å‰Šé™¤ã—ãŸã„å ´åˆã¯ã€ã“ã®ã‚ˆã†ã«`Props`ã‚’ç©ºã«è¨­å®šã—ãŸã ã‘ã®`Post`ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æŒ‡å®šã—ã¾ã™ã€‚`EphemeralText`ã«æŒ‡å®šã—ãŸæ–‡å­—åˆ—ã¯ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸäººã ã‘ã«è¦‹ãˆã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ãªã‚Šã¾ã™ã€‚

## ã•ã„ã”ã«

æœ¬æ—¥ã¯ã€Interactive Message Button ã®ä½¿ã„æ–¹ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚
æ˜æ—¥ã¯ã€Interactive Message Menu ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
