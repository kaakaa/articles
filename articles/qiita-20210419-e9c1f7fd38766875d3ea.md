---
title: "Mattermost 5.34ã®æ–°æ©Ÿèƒ½"
date: 2021-04-19T00:00:00+09:00
emoji: "ğŸ“£"
type: "tech"
topics: ["Mattermost"]
published: true
---

Mattermost è¨˜äº‹ã¾ã¨ã‚: https://blog.kaakaa.dev/tags/mattermost/

# ã¯ã˜ã‚ã«

2021/04/15 ã« Mattermost v5.34.0 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¾ã—ãŸã€‚  
ãã®å¾Œã€MySQL ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã«ç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹å•é¡Œã«å¯¾å¿œã—ãŸãƒ‘ãƒƒãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ãƒªãƒªãƒ¼ã‚¹ã—ã¦ãŠã‚Šã€MySQL ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯æ³¨æ„ãŒå¿…è¦ãã†ã§ã™ã€‚ä»¥ä¸‹ã® Changelog ã‚’ç¢ºèªã—ã€æœ€æ–°ã®ãƒªãƒªãƒ¼ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚

https://docs.mattermost.com/administration/changelog.html#release-v5-34-feature-release

v5.34.0 ã¸ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰æ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹ DB ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã™ã‚‹ã“ã¨ãŒã‚ã‚Šã€ã“ã®å•é¡Œã«ã¤ã„ã¦ã¯ v5.34.1 ã§è§£æ¶ˆã•ã‚Œã¦ã„ã¾ã™ã€‚v5.34.1 ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã™ã‚‹å ´åˆã€å¤§è¦æ¨¡ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã ã¨ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«æ™‚é–“ãŒã‹ã‹ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

> v5.34.1, released 2021-04-15
> Fixed an issue where upgrading to v5.34.0 runs a migration that could cause timeouts on MySQL installations. Upgrading to v5.34.1 may also execute missing migrations that were scheduled for v5.32.0. These additions can be lengthy on very big MySQL (version 5.x) installations.

MySQL ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«ç‰¹æ®Šæ–‡å­—ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€Mattermost ã®é–‹å§‹ã«å¤±æ•—ã™ã‚‹å•é¡Œã¸ã®å¯¾å‡¦ãŒ v5.34.2 ã«ã¦åŠ ãˆã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

> v5.34.2, released 2021-04-17
> Fixing an issue where installs with some special characters in the MySQL password will break and fail to start.

æœ¬è¨˜äº‹ã¯ã€å€‹äººçš„ã«æ°—ã«ãªã£ãŸæ–°ã—ã„æ©Ÿèƒ½ãªã©ã‚’å‹•ã‹ã—ã¦ã¿ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚ï¼ˆãªã®ã§ã€Enterprise ç‰ˆé™å®šã®æ©Ÿèƒ½ãªã©ã«ã¤ã„ã¦ã¯ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆæ›¸ã„ã¦ã‚ã‚‹ã“ã¨ã®ç´¹ä»‹ç¨‹åº¦ã¨ãªã£ã¦ã„ã¾ã™ï¼‰

å¤‰æ›´å†…å®¹ã®è©³ç´°ã«ã¤ã„ã¦ã¯å…¬å¼ã®ãƒªãƒªãƒ¼ã‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

- [Mattermost v5\.34 is now available \- Upgrade to the new edition today](https://mattermost.com/blog/mattermost-release-v5-34/)
- [Mattermost Changelog â€” Mattermost 5\.34 documentation](https://docs.mattermost.com/administration/changelog.html#release-v5-34-feature-release)

---

å„æ©Ÿèƒ½ã®è¦‹å‡ºã—å‰ã®è¨˜å·ã¯ã€ãã®æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½ãªã‚¨ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚

- `Cloud`: [Mattermost Cloud](https://mattermost.com/pricing-cloud/)
- `E20/E10`: [Enterprise E20/E10](https://mattermost.com/pricing-self-managed/)

è¦‹å‡ºã—ã®å‰ã«ä½•ã‚‚ãªã„å ´åˆã€Team Edition(OSS ç‰ˆ)ã§ã‚‚åˆ©ç”¨å¯èƒ½ãªæ©Ÿèƒ½ã§ã™ã€‚

## (Cloud/E20) Incident Collaboration ã«ãŠã‘ã‚‹ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆé–‹å§‹æ™‚æ“ä½œã®è‡ªå‹•åŒ–

ã“ã“æ•°ãƒ¶æœˆé–‹ç™ºãŒæ´»ç™ºãª[Incident Collaboration Plugin](https://github.com/mattermost/mattermost-plugin-incident-collaboration)ã«ã€ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆé–‹å§‹æ™‚ã®æ“ä½œã‚’è‡ªå‹•åŒ–ã™ã‚‹æ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚

Incident Collaboratoin Plugin ã§ã¯ã€ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œæ‰‹é †ã‚’äºˆã‚ Playbook ã¨ã—ã¦ç™»éŒ²ã—ã¦ãŠãã€ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆç™ºç”Ÿæ™‚ã« Playbook ã‚’å…ƒã«ã—ãŸã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå°‚ç”¨ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œã®æ§˜å­ã‚’ 1 ã¤ã®ãƒãƒ£ãƒ³ãƒãƒ«ã«ã¾ã¨ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä»Šå›è¿½åŠ ã•ã‚ŒãŸã®ã¯ã€ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå°‚ç”¨ãƒãƒ£ãƒ³ãƒãƒ«ä½œæˆæ™‚ã«è‡ªå‹•ã§ãã®ãƒãƒ£ãƒ³ãƒãƒ«ã«è¿½åŠ ã•ã‚Œã‚‹ãƒ¡ãƒ³ãƒã‚’æŒ‡å®šã—ã¦ãŠã‘ã‚‹æ©Ÿèƒ½ã§ã™ã€‚

![incident automation](https://blog.kaakaa.dev/images/posts/mattermost/releases-5.34/incident-automation.png)

## ãã®ä»–ã®æ©Ÿèƒ½

### æ–°ãŸãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ (CircleCI / Dice Roller)

æ–°ãŸãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

#### CircleCI Plugin

[Mattermost/CircleCI Plugin \- Circle CI Plugin](https://mattermost.gitbook.io/circle-ci-plugin/)

Mattermost ã¨ CircleCI ã‚’é€£æºã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚ã“ã¡ã‚‰ã¯ Mattermost å…¬å¼ãƒãƒ¼ãƒ ã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚

- ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³/ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®Ÿè¡Œ
- Mattermost ã¸ã®é€šçŸ¥
- ç’°å¢ƒå¤‰æ•°ã®ç®¡ç†
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®å–å¾—

ãªã©ãŒ Mattermost ä¸Šã‹ã‚‰è¡Œãˆã‚‹ã‚ˆã†ã§ã™ã€‚

#### Dice Roller

[Dice Roller Plugin \- Mattermost \- Open\-source collaboration, self\-managed or SaaS](https://mattermost.com/marketplace/dice-roller-plugin/)

Dice Roller ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€Mattermost ä¸Šã§ãƒ€ã‚¤ã‚¹ã‚’æŒ¯ã‚‹ã“ã¨ã®ã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚
![dice roller](https://blog.kaakaa.dev/images/posts/mattermost/releases-5.34/dice-roller.png)

### ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…å‘ã‘éå…¬é–‹ãƒãƒ£ãƒ³ãƒãƒ«å‚åŠ ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°

ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ãŒéå…¬é–‹ãƒãƒ£ãƒ³ãƒãƒ«ã«ãã®ãƒªãƒ³ã‚¯ã‹ã‚‰å‚åŠ ã—ã‚ˆã†ã¨ã—ãŸéš›ã€ç¢ºèªã®ãŸã‚ã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

![confirm-to-join-private](https://blog.kaakaa.dev/images/posts/mattermost/releases-5.34/confirm-to-join-private.png)

### ãƒãƒ¼ãƒ ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼

Mattermost UI ã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼æŒ‡å®šã«ãŠã„ã¦ã€ãƒãƒ¼ãƒ ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®éƒ¨åˆ†ã«ã‚‚ã‚«ãƒ©ãƒ¼è¨­å®šãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚`sidebarTeamBarBg`ã¨ã„ã†å€¤ã§ã‚µã‚¤ãƒ‰ãƒãƒ¼ã®è‰²ã‚’æŒ‡å®šã§ãã‚‹ã‚ˆã†ã§ã™ã€‚

![theme teambar](https://blog.kaakaa.dev/images/posts/mattermost/releases-5.34/theme-teambar.png)

ä»¥ä¸‹ã§ Mattermost ã®ãƒ†ãƒ¼ãƒé›†ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã“ã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ãƒ†ãƒ¼ãƒã¯å…¬å¼ãƒ†ãƒ¼ãƒã§ã¯ãªã„ãŸã‚ã€ä»Šå›è¿½åŠ ã•ã‚ŒãŸ`sidebarTeamBarBg`ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

[Mattermost Themes](https://avasconcelos114.github.io/mattermost-themes/)

### pprof ã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

ä»Šã¾ã§æœ‰å„Ÿç‰ˆ(E20)é™å®šã®æ©Ÿèƒ½ã ã£ãŸ[ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°](https://docs.mattermost.com/deployment/metrics.html)ã®æ©Ÿèƒ½ã®ã†ã¡ã€[pprof ã«ã‚ˆã‚‹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½](https://docs.mattermost.com/deployment/metrics.html#standard-go-metrics)ã‚’ Team Edition(OSS ç‰ˆ)ã§ã‚‚åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

pprof ã«ã‚ˆã‚‹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’è¡Œã†ã«ã¯ã€**ã‚·ã‚¹ãƒ†ãƒ ã‚³ãƒ³ã‚½ãƒ¼ãƒ« > ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚° > ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚’æœ‰åŠ¹ã«ã™ã‚‹** ã‚’ **æœ‰åŠ¹** ã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

![performance monitoring](https://blog.kaakaa.dev/images/posts/mattermost/releases-5.34/performance-monitoring.png)

è¨­å®šã‚’å¤‰æ›´ã—ãŸå¾Œã€åŒã˜è¨­å®šç”»é¢ã§æŒ‡å®šã—ã¦ã‚ã‚‹ãƒãƒ¼ãƒˆç•ªå·ã«`pprof`ã‚’ä½¿ã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§ã€Mattermost ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```
$ go tool pprof http://localhost:8067/debug/pprof/profile
Fetching profile over HTTP from http://localhost:8067/debug/pprof/profile

channel: open channel: no such file or directory
Fetched 1 source profiles out of 2
Saved profile in /Users/test/pprof/pprof.samples.cpu.001.pb.gz
Type: cpu
Time: Apr 16, 2021 at 5:30pm (JST)
Duration: 30s, Total samples = 50ms ( 0.17%)
Entering interactive mode (type "help" for commands, "o" for options)
(pprof) top
Showing nodes accounting for 50ms, 100% of 50ms total
Showing top 10 nodes out of 13
      flat  flat%   sum%        cum   cum%
      20ms 40.00% 40.00%       30ms 60.00%  runtime.scanobject
      10ms 20.00% 60.00%       10ms 20.00%  github.com/gorilla/websocket.(*Conn).write
      10ms 20.00% 80.00%       10ms 20.00%  runtime.greyobject
      10ms 20.00%   100%       10ms 20.00%  runtime.netpoll
         0     0%   100%       10ms 20.00%  github.com/gorilla/websocket.(*Conn).WriteMessage
         0     0%   100%       10ms 20.00%  github.com/gorilla/websocket.(*messageWriter).flushFrame
         0     0%   100%       10ms 20.00%  github.com/mattermost/mattermost-server/v5/app.(*WebConn).Pump.func1
         0     0%   100%       10ms 20.00%  github.com/mattermost/mattermost-server/v5/app.(*WebConn).writePump
         0     0%   100%       40ms 80.00%  runtime.gcBgMarkWorker
         0     0%   100%       40ms 80.00%  runtime.gcBgMarkWorker.func2
```

## ãã®ä»–ã®ãƒˆãƒ”ãƒƒã‚¯

### Mattermost CEO ã«ã‚ˆã‚‹æŒ¯ã‚Šè¿”ã‚Š

Mattermost ã®å…¬å¼ãƒ–ãƒ­ã‚°ã§ã€ä»Šã¾ã§ã® Mattermost ã®æ´»å‹•ã‚’ã©ã®ã‚ˆã†ãªæ€æƒ³ã§é€²ã‚ã¦ããŸã‹ã«ã¤ã„ã¦ã€Mattermost CEO ã«ã‚ˆã£ã¦ç¶´ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

[How Weâ€™ve Built an Open Source Community at Mattermost](https://mattermost.com/blog/building-open-source-community/)

ã“ã¡ã‚‰ã®è¨˜äº‹ã§ã¯ã€Mattermost ãŒã©ã®ã‚ˆã†ã«ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚’ç¯‰ããŸã‚ã«ã€ã©ã®ã‚ˆã†ãªæ€æƒ³ã‚’æŒã£ã¦æ´»å‹•ã—ã¦ããŸã®ã‹ã«ã¤ã„ã¦èªã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

[Building a Go\-to\-Market Strategy for Developer Tools](https://mattermost.com/blog/go-to-market-strategy-for-developer-tools/)

ã“ã¡ã‚‰ã®è¨˜äº‹ã§ã¯ã€Mattermost ã‚’æˆé•·ã•ã›ã‚‹ãŸã‚ã®æˆ¦ç•¥ã«ã¤ã„ã¦èªã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

## ãŠã‚ã‚Šã«

æ¬¡ã®`v5.35`ã®ãƒªãƒªãƒ¼ã‚¹ã¯ 2021/05/14(Fri)ã‚’äºˆå®šã—ã¦ã„ã¾ã™ã€‚

---

[Mattermost æ—¥æœ¬èª\(@mattermost_jp\)ã•ã‚“ \| Twitter](https://twitter.com/mattermost_jp?lang=ja) ã§ Mattermost ã«é–¢ã™ã‚‹æ—¥æœ¬èªã®æƒ…å ±ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚
